(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{38:function(e,t,n){"use strict";n.r(t);var a=n(14),r=n.n(a),c=n(3),o=n(1),s=n(0),u=function(e){var t=e.text,n=e.value,a=e.onChange;return Object(s.jsxs)("div",{children:[t,":",Object(s.jsx)("input",{value:n,onChange:a})]})},i=function(e){var t=e.addName,n=e.newName,a=e.handleNameChange,r=e.newStatus,c=e.handleStatusChange;return Object(s.jsx)("div",{children:Object(s.jsxs)("form",{onSubmit:t,children:[Object(s.jsx)(u,{text:"Rank/Name ",value:n,onChange:a}),Object(s.jsx)(u,{text:"Status (present/attached/others) ",value:r,onChange:c}),Object(s.jsx)("div",{children:Object(s.jsx)("button",{type:"submit",children:"add"})})]})})},l=n(4),d=n.n(l),j="/api/persons",h=function(){return d.a.get(j).then((function(e){return e.data}))},f=function(e){return d.a.post(j,e).then((function(e){return e.data}))},b=function(e){return d.a.delete("".concat(j,"/").concat(e))},m=function(e,t){return d.a.put("".concat(j,"/").concat(e),t).then((function(e){return e.data}))},g=function(e){var t=e.person,n=e.id,a=e.setPersons,r=e.persons;return Object(s.jsx)("button",{onClick:function(){window.confirm("Do you want to delete ".concat(t.name))&&(b(n),a(r.filter((function(e){return e.id!==n}))))},children:"Delete"})},O=function(e){e.currentStatus},v=function(e){var t=e.notesToShow,n=e.setPersons,a=e.persons;return Object(s.jsx)("div",{children:Object(s.jsx)("ul",{children:t.map((function(e){return Object(s.jsxs)("li",{children:[e.name,Object(s.jsx)(O,{currentStatus:e.status}),Object(s.jsx)(g,{person:e,id:e.id,setPersons:n,persons:a})]},e.name)}))})})},x=function(e){var t=e.newFilter,n=e.handleNamefilter;return Object(s.jsxs)("div",{children:["filter by name:",Object(s.jsx)("input",{value:t,onChange:n})]})},p=function(e){var t=e.message;return null===t?null:Object(s.jsx)("div",{style:{color:"green",background:"lightgrey",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10},children:t})},w=new Date,S=w.getDate(),C=w.getMonth()+1,y=w.getFullYear().toString().substr(-2),N=w.getHours(),k=w.getMinutes();S<10&&(S="0".concat(S)),C<10&&(C="0".concat(C)),N<10&&(N="0".concat(N)),k<10&&(k="0".concat(k));var P="".concat(C).concat(S).concat(y),T="".concat(N).concat(k),D="";D=T<1200&&T>="0000"?"morning":T>1600?"evening":"afternoon";var L=function(){return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("p",{children:["Good ",D," Commanders , this is the strength for Signal Company as of ",T," on ",P,"."]})})},F=function(){var e=Object(o.useState)([]),t=Object(c.a)(e,2),n=t[0],a=t[1],r=Object(o.useState)(""),u=Object(c.a)(r,2),l=u[0],d=u[1],j=Object(o.useState)(""),b=Object(c.a)(j,2),g=b[0],O=b[1],w=Object(o.useState)(""),S=Object(c.a)(w,2),C=S[0],y=S[1],N=Object(o.useState)(null),k=Object(c.a)(N,2),P=k[0],T=k[1];Object(o.useEffect)((function(){h().then((function(e){a(e)}))}),[]);var D=C.trim()?n.filter((function(e){return e.name.toLowerCase().includes(C.toLowerCase())})):n;return Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:"Parade State Application"}),Object(s.jsx)(p,{message:P}),Object(s.jsx)(x,{newFilter:C,handleNamefilter:function(e){console.log(e.target.value),y(e.target.value)}}),Object(s.jsx)("h2",{children:"Add a new"}),Object(s.jsx)(i,{addName:function(e){e.preventDefault();var t={name:l.trim().toUpperCase(),status:g},r=n.filter((function(e){return e.name.toLowerCase().includes(t.name.toLowerCase())}));if(console.log(r),l.trim()&&g.trim())if(r.length>0){if(window.confirm("".concat(l," is already added to phonebook. Would you like to update the status?")))return m(r[0].id,t).then((function(e){a(n.map((function(t){return t.id!==r[0].id?t:e}))),T("".concat(l," has been updated")),setTimeout((function(){return T(null)}),5e3)})).catch((function(e){T("".concat(l," has been already been removed from the server")),setTimeout((function(){return T(null)}),5e3)}))}else f(t).then((function(e){a(n.concat(e)),T("".concat(l," has been added")),setTimeout((function(){return T(null)}),5e3)})).catch((function(e){T("".concat(l," has been already been added to the server")),setTimeout((function(){return T(null)}),5e3)}));else alert("Name/status must be filled");O(""),d("")},newName:l,handleNameChange:function(e){console.log(e.target.value),d(e.target.value)},newStatus:g,handleStatusChange:function(e){console.log(e.target.value),O(e.target.value)}}),Object(s.jsx)("h2",{children:"List of Personnel"}),Object(s.jsx)(v,{notesToShow:D,setPersons:a,persons:n}),Object(s.jsx)("h2",{children:"Parade State"}),Object(s.jsx)(L,{})]})};r.a.render(Object(s.jsx)(F,{}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.99790425.chunk.js.map