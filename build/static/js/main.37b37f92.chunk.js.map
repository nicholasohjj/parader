{"version":3,"sources":["components/form.js","components/phoneservice.js","components/button.js","components/list.js","components/filter.js","components/message.js","App.js","index.js"],"names":["Input","text","value","onChange","Form","addName","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","baseUrl","axios","get","then","response","data","newPerson","post","id","delete","put","Button","person","setPersons","persons","onClick","window","confirm","name","phoneservice","filter","List","notesToShow","map","number","Filter","newFilter","handleNamefilter","Message","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","App","useState","setNewName","setNewNumber","setFilter","newMessage","setNewMessage","useEffect","allPersons","trim","toLowerCase","includes","event","console","log","target","preventDefault","nameCheck","length","updatedList","setTimeout","catch","error","concat","alert","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.37b37f92.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Input = ({text,value,onChange}) => {\r\n    return (\r\n      <div>\r\n      {text}: \r\n            <input value={value} onChange={onChange}/>\r\n      </div>\r\n    )\r\n  }\r\n  \r\nconst Form = ({addName,newName,handleNameChange,newNumber,handleNumberChange}) => {\r\n    return (\r\n      <div>\r\n        <form onSubmit={addName}>\r\n        <Input text=\"Name \" value={newName} onChange={handleNameChange}/>\r\n        <Input text=\"Phone number \" value={newNumber} onChange={handleNumberChange}/>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  export default Form","import axios from 'axios'\r\n\r\nconst baseUrl = \"/api/persons\"\r\n\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst addNew = (newPerson) => {\r\n  const request = axios.post(baseUrl, newPerson)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst removePerson = (id) => {\r\n  return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nconst update = (id,newPerson) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newPerson)\r\n  return request.then(response=>response.data)\r\n  \r\n}\r\n\r\nexport default {getAll, addNew, removePerson, update}","import React from 'react'\r\nimport phoneservice from './phoneservice'\r\n\r\n\r\nconst Button = ({person, id, setPersons, persons}) => {\r\n\r\n  const HandleButton = () => {\r\n    if (window.confirm(`Do you want to delete ${person.name}`)) {\r\n      phoneservice\r\n        .removePerson(id)\r\n        setPersons(persons.filter(person=>person.id !==id))\r\n        }\r\n  }\r\n\r\n  return (\r\n    <button onClick={HandleButton}>Delete</button>\r\n  )\r\n}\r\n\r\nexport default Button","import React from 'react'\r\nimport Button from './button'\r\n\r\nconst List = ({notesToShow, setPersons, persons}) => {\r\n    return (\r\n      <div>\r\n        <ul>\r\n          {notesToShow.map(person=>\r\n            <li key={person.name}>\r\n              {person.name} {person.number}\r\n              <Button person={person} id={person.id} setPersons={setPersons} persons={persons}/>\r\n            </li>\r\n          )}   \r\n        </ul>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  export default List","import React from 'react'\r\n\r\nconst Filter = ({newFilter, handleNamefilter}) => {\r\n    return (\r\n      <div>\r\n        filter by name:\r\n        <input value={newFilter} onChange={handleNamefilter}/>\r\n    </div>\r\n    )\r\n  }\r\n\r\n  export default Filter","import React from 'react'\r\n\r\n\r\n\r\nconst Message = ({ message }) => {\r\n    const messagestyle = {\r\n        color: 'green',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10\r\n    }\r\n    \r\n    if (message === null) {\r\n    return null\r\n  }\r\n    return (\r\n        <div style={messagestyle}>\r\n        {message}\r\n        </div>\r\n        )\r\n}\r\n\r\nexport default Message","import React, { useEffect, useState } from 'react'\r\nimport Form from './components/form'\r\nimport List from './components/list'\r\nimport phoneservice from './components/phoneservice'\r\nimport Filter from './components/filter'\r\nimport Message from './components/message'\r\n\r\n\r\n//App component\r\nconst App = () => {\r\n  const [ persons, setPersons ] = useState([]) \r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ newFilter, setFilter ] = useState('')\r\n  const [ newMessage, setNewMessage ] = useState(null)\r\n\r\n  useEffect(() =>{\r\n    phoneservice\r\n      .getAll()\r\n      .then(allPersons=>setPersons(allPersons))\r\n  },[])\r\n  \r\n  const handleNameChange = (event) => {\r\n    console.log(event.target.value)\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    console.log(event.target.value)\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleNamefilter = (event) => {\r\n    console.log(event.target.value)\r\n    setFilter(event.target.value)\r\n    }\r\n  \r\n\r\n  //Filter displayed list\r\n  const notesToShow = (!newFilter.trim())\r\n  ? persons\r\n  : persons.filter(person => person.name.toLowerCase().includes(newFilter.toLowerCase()))\r\n\r\n  //Adds new element to persons array\r\n  const addName = (event) => {\r\n    event.preventDefault()\r\n\r\n    const newPerson = {\r\n      name: newName.trim(),\r\n      number: newNumber,\r\n    }\r\n\r\n    const nameCheck = persons.filter(person=> \r\n      person.name.toLowerCase().includes(newPerson.name.toLowerCase())\r\n      )\r\n    \r\n    console.log(nameCheck)\r\n\r\n    if (!newName.trim() || !newNumber.trim()) {\r\n      alert(\"Name/number must be filled\")\r\n    } else if (nameCheck.length>0) {\r\n      if (window.confirm(`${newName} is already added to phonebook. Would you like to update the number?`)) {\r\n        return (\r\n          phoneservice\r\n            .update(nameCheck[0].id, newPerson)\r\n            .then(updatedList=> {setPersons(persons.map(person=>\r\n                person.id !== nameCheck[0].id\r\n                  ? person\r\n                  : updatedList))\r\n          setNewMessage(`${newName} has been updated`)\r\n          setTimeout(()=>setNewMessage(null),5000)\r\n        })\r\n            .catch(error=> {\r\n              setNewMessage(`${newName} has been already been removed from the srver`)\r\n              setTimeout(()=>setNewMessage(null),5000)\r\n            })\r\n        )}\r\n      } else {\r\n        phoneservice\r\n          .addNew(newPerson)\r\n          .then(updatedList => {\r\n              setPersons(persons.concat(updatedList))\r\n              setNewMessage(`${newName} has been added`)\r\n              setTimeout(()=>setNewMessage(null),5000)\r\n            })\r\n          .catch(error=> {\r\n            setNewMessage(`${newName} has been already been added to the server`)\r\n            setTimeout(()=>setNewMessage(null),5000)\r\n          })\r\n        }\r\n        setNewNumber('')\r\n        setNewName('')\r\n      }\r\n\r\n\r\n  return (\r\n    <div>\r\n      <h2>Parade State</h2>\r\n      <Message message={newMessage}/>\r\n      <Filter newFilter={newFilter} handleNamefilter={handleNamefilter} />\r\n      <h2>Add a new</h2>\r\n      <Form addName={addName}\r\n            newName={newName}\r\n            handleNameChange={handleNameChange}\r\n            newNumber={newNumber}\r\n            handleNumberChange={handleNumberChange}/>\r\n      <h2>Numbers</h2>\r\n      \r\n      <List notesToShow={notesToShow} setPersons={setPersons} persons={persons} />\r\n      </div>\r\n  )\r\n}\r\n\r\nexport default App ","import ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n)"],"sourceRoot":""}