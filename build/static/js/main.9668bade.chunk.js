(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{38:function(e,t,n){"use strict";n.r(t);var a=n(14),o=n.n(a),c=n(3),r=n(1),s=n(0),u=function(e){var t=e.text,n=e.value,a=e.onChange;return Object(s.jsxs)("div",{children:[t,":",Object(s.jsx)("input",{value:n,onChange:a})]})},i=function(e){var t=e.addName,n=e.newName,a=e.handleNameChange,o=e.newStatus,c=e.handleStatusChange;return Object(s.jsx)("div",{children:Object(s.jsxs)("form",{onSubmit:t,children:[Object(s.jsx)(u,{text:"Rank/Name ",value:n,onChange:a}),Object(s.jsx)(u,{text:"Status (present/attached/others) ",value:o,onChange:c}),Object(s.jsx)("div",{children:Object(s.jsx)("button",{type:"submit",children:"add"})})]})})},l=n(4),d=n.n(l),j="/api/persons",b=function(){return d.a.get(j).then((function(e){return e.data}))},h=function(e){return d.a.post(j,e).then((function(e){return e.data}))},f=function(e){return d.a.delete("".concat(j,"/").concat(e))},m=function(e,t){return d.a.put("".concat(j,"/").concat(e),t).then((function(e){return e.data}))},O=function(e){var t=e.person,n=e.id,a=e.setPersons,o=e.persons;return Object(s.jsx)("button",{onClick:function(){window.confirm("Do you want to delete ".concat(t.name))&&(f(n),a(o.filter((function(e){return e.id!==n}))))},children:"Delete"})},g=function(e){var t=e.symbol;return Object(s.jsx)("span",{className:"emoji",role:"img",children:t})},x=function(e){var t=e.currentStatus;return"present"===t?Object(s.jsx)(g,{symbol:"\ud83d\udc11"}):"attached"===t?Object(s.jsx)(g,{symbol:"\ud83c\udd70"}):"others"===t?Object(s.jsx)(g,{symbol:"\ud83d\uddd2"}):"mc"===t?Object(s.jsx)(g,{symbol:"\ud83d\ude37"}):"ma"===t?Object(s.jsx)(g,{symbol:"\ud83d\udc68\ud83c\udffb\u200d\u2695\ufe0f"}):"off"===t?Object(s.jsx)(g,{symbol:"\ud83d\udeab"}):"leave"===t||"leave"===t?Object(s.jsx)(g,{symbol:"\ud83d\udeaa"}):"stayout"===t?Object(s.jsx)(g,{symbol:"\ud83c\udfe0"}):void 0},v=function(e){var t=e.notesToShow,n=e.setPersons,a=e.persons;return Object(s.jsx)("div",{children:Object(s.jsx)("ul",{children:t.map((function(e){return Object(s.jsxs)("li",{children:[e.name,Object(s.jsx)(x,{currentStatus:e.status}),Object(s.jsx)(O,{person:e,id:e.id,setPersons:n,persons:a})]},e.name)}))})})},p=function(e){var t=e.newFilter,n=e.handleNamefilter;return Object(s.jsxs)("div",{children:["filter by name:",Object(s.jsx)("input",{value:t,onChange:n})]})},y=function(e){var t=e.message;return null===t?null:Object(s.jsx)("div",{style:{color:"green",background:"lightgrey",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10},children:t})},w=new Date,S=w.getDate(),C=w.getMonth()+1,N=w.getFullYear().toString().substr(-2),k=w.getHours(),P=w.getMinutes();S<10&&(S="0".concat(S)),C<10&&(C="0".concat(C)),k<10&&(k="0".concat(k)),P<10&&(P="0".concat(P));var T="".concat(C).concat(S).concat(N),D="".concat(k).concat(P),L="";L=D<1200&&D>="0000"?"morning":D>1600?"evening":"afternoon";var F=function(){return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("p",{children:["Good ",L," Commanders , this is the strength for Signal Company as of ",D," on ",T,"."]})})},A=function(){var e=Object(r.useState)([]),t=Object(c.a)(e,2),n=t[0],a=t[1],o=Object(r.useState)(""),u=Object(c.a)(o,2),l=u[0],d=u[1],j=Object(r.useState)(""),f=Object(c.a)(j,2),O=f[0],g=f[1],x=Object(r.useState)(""),w=Object(c.a)(x,2),S=w[0],C=w[1],N=Object(r.useState)(null),k=Object(c.a)(N,2),P=k[0],T=k[1];Object(r.useEffect)((function(){b().then((function(e){a(e)}))}),[]);var D=S.trim()?n.filter((function(e){return e.name.toLowerCase().includes(S.toLowerCase())})):n;return Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:"Parade State Application"}),Object(s.jsx)(y,{message:P}),Object(s.jsx)(p,{newFilter:S,handleNamefilter:function(e){console.log(e.target.value),C(e.target.value)}}),Object(s.jsx)("h2",{children:"Add a new"}),Object(s.jsx)(i,{addName:function(e){e.preventDefault();var t={name:l.trim().toUpperCase(),status:O},o=n.filter((function(e){return e.name.toLowerCase().includes(t.name.toLowerCase())}));if(console.log(o),l.trim()&&O.trim())if(o.length>0){if(window.confirm("".concat(l," is already added to phonebook. Would you like to update the status?")))return m(o[0].id,t).then((function(e){a(n.map((function(t){return t.id!==o[0].id?t:e}))),T("".concat(l," has been updated")),setTimeout((function(){return T(null)}),5e3)})).catch((function(e){T("".concat(l," has been already been removed from the server")),setTimeout((function(){return T(null)}),5e3)}))}else h(t).then((function(e){a(n.concat(e)),T("".concat(l," has been added")),setTimeout((function(){return T(null)}),5e3)})).catch((function(e){T("".concat(l," has been already been added to the server")),setTimeout((function(){return T(null)}),5e3)}));else alert("Name/status must be filled");g(""),d("")},newName:l,handleNameChange:function(e){console.log(e.target.value),d(e.target.value)},newStatus:O,handleStatusChange:function(e){console.log(e.target.value),g(e.target.value)}}),Object(s.jsx)("h2",{children:"List of Personnel"}),Object(s.jsx)(v,{notesToShow:D,setPersons:a,persons:n}),Object(s.jsx)("h2",{children:"Parade State"}),Object(s.jsx)(F,{})]})};o.a.render(Object(s.jsx)(A,{}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.9668bade.chunk.js.map