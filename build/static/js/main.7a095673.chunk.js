(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{38:function(e,t,n){"use strict";n.r(t);var c=n(14),s=n.n(c),a=n(4),r=n(1),o=n(0),u=function(e){var t=e.text,n=e.value,c=e.onChange;return Object(o.jsxs)("div",{children:[t,":",Object(o.jsx)("input",{value:n,onChange:c})]})},i=function(e){var t=e.addName,n=e.newName,c=e.handleNameChange,s=e.newStatus,a=e.handleStatusChange;return Object(o.jsx)("div",{children:Object(o.jsxs)("form",{onSubmit:t,children:[Object(o.jsx)(u,{text:"Rank/Name ",value:n,onChange:c}),Object(o.jsx)(u,{text:"Status (present/attached/others) ",value:s,onChange:a}),Object(o.jsx)("div",{children:Object(o.jsx)("button",{type:"submit",children:"add"})})]})})},l=n(3),j=n.n(l),d="/api/persons",b=function(){return j.a.get(d).then((function(e){return e.data}))},h=function(e){return j.a.post(d,e).then((function(e){return e.data}))},f=function(e){return j.a.delete("".concat(d,"/").concat(e))},m=function(e,t){return j.a.put("".concat(d,"/").concat(e),t).then((function(e){return e.data}))},O=function(e){var t=e.person,n=e.id,c=e.setPersons,s=e.persons;return Object(o.jsx)("button",{onClick:function(){window.confirm("Do you want to delete ".concat(t.name))&&(f(n),c(s.filter((function(e){return e.id!==n}))))},children:"Delete"})},x=function(e){var t=e.symbol;return Object(o.jsx)("span",{className:"emoji",role:"img",children:t})},g=function(e){var t=e.currentStatus;return"present"===t?Object(o.jsx)(x,{symbol:"\u2705"}):"attached"===t?Object(o.jsx)(x,{symbol:"\ud83c\udd70"}):"others"===t?Object(o.jsx)(x,{symbol:"\ud83d\uddd2"}):"mc"===t?Object(o.jsx)(x,{symbol:"\ud83d\ude37"}):"ma"===t?Object(o.jsx)(x,{symbol:"\ud83d\udc68\ud83c\udffb\u200d\u2695\ufe0f"}):"off"===t?Object(o.jsx)(x,{symbol:"\ud83d\udeab"}):"leave"===t||"leave"===t?Object(o.jsx)(x,{symbol:"\ud83d\udeaa"}):"stayout"===t?Object(o.jsx)(x,{symbol:"\ud83c\udfe0"}):void 0},p=function(e){var t=e.setPersons,n=e.persons;return Object(o.jsx)("div",{children:Object(o.jsx)("ul",{children:n.map((function(e){return Object(o.jsxs)("li",{children:[e.name,Object(o.jsx)(g,{currentStatus:e.status}),Object(o.jsx)(O,{person:e,id:e.id,setPersons:t,persons:n})]},e.name)}))})})},v=function(e){var t=e.message;return null===t?null:Object(o.jsx)("div",{style:{color:"green",background:"lightgrey",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10},children:t})},y=new Date,S=y.getDate(),w=y.getMonth()+1,C=y.getFullYear().toString().substr(-2),N=y.getHours(),P=y.getMinutes();S<10&&(S="0".concat(S)),w<10&&(w="0".concat(w)),N<10&&(N="0".concat(N)),P<10&&(P="0".concat(P));var k="".concat(w).concat(S).concat(C),D="".concat(N).concat(P),T="";T=D<1200&&D>="0000"?"morning":D>1600?"evening":"afternoon";var L=function(){return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("p",{children:["Good ",T," Commanders , this is the strength for Signal Company as of ",D," on ",k,"."]})})},A=function(e){e.setPersons;var t=e.persons,n=0;t.map((function(e){return"present"===e.status?n+=1:e.status}));var c=t.length;return Object(o.jsxs)("div",{children:[Object(o.jsxs)("p",{children:["HQ ",n,"/",c]}),Object(o.jsx)("ol",{children:t.map((function(e){return Object(o.jsxs)("li",{children:[e.name,Object(o.jsx)(g,{currentStatus:e.status})]},e.name)}))})]})},B=function(){var e=Object(r.useState)([]),t=Object(a.a)(e,2),n=t[0],c=t[1],s=Object(r.useState)(""),u=Object(a.a)(s,2),l=u[0],j=u[1],d=Object(r.useState)(""),f=Object(a.a)(d,2),O=f[0],x=f[1],g=Object(r.useState)(null),y=Object(a.a)(g,2),S=y[0],w=y[1];Object(r.useEffect)((function(){b().then((function(e){c(e)}))}),[]);return Object(o.jsxs)("div",{children:[Object(o.jsx)("h2",{children:"Parade State Application"}),Object(o.jsx)(v,{message:S}),Object(o.jsx)("h2",{children:"Add a new"}),Object(o.jsx)(i,{addName:function(e){e.preventDefault();var t={name:l.trim().toUpperCase(),status:O},s=n.filter((function(e){return e.name.toLowerCase().includes(t.name.toLowerCase())}));if(console.log(s),l.trim()&&O.trim())if(s.length>0){if(window.confirm("".concat(l," is already added to phonebook. Would you like to update the status?")))return m(s[0].id,t).then((function(e){c(n.map((function(t){return t.id!==s[0].id?t:e}))),w("".concat(l," has been updated")),setTimeout((function(){return w(null)}),5e3)})).catch((function(e){w("".concat(l," has been already been removed from the server")),setTimeout((function(){return w(null)}),5e3)}))}else h(t).then((function(e){c(n.concat(e)),w("".concat(l," has been added")),setTimeout((function(){return w(null)}),5e3)})).catch((function(e){w("".concat(l," has been already been added to the server")),setTimeout((function(){return w(null)}),5e3)}));else alert("Name/status must be filled");x(""),j("")},newName:l,handleNameChange:function(e){console.log(e.target.value),j(e.target.value)},newStatus:O,handleStatusChange:function(e){console.log(e.target.value),x(e.target.value)}}),Object(o.jsx)("h2",{children:"List of Personnel"}),Object(o.jsx)(p,{setPersons:c,persons:n}),Object(o.jsx)("h2",{children:"Parade State"}),Object(o.jsx)(L,{}),Object(o.jsx)(A,{setPersons:c,persons:n})]})};s.a.render(Object(o.jsx)(B,{}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.7a095673.chunk.js.map