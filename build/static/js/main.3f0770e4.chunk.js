(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{38:function(e,t,n){"use strict";n.r(t);var a=n(14),c=n.n(a),o=n(4),r=n(2),s=n(0),u=function(e){var t=e.text,n=e.value,a=e.onChange;return Object(s.jsxs)("div",{children:[t,":",Object(s.jsx)("input",{value:n,onChange:a})]})},i=function(e){var t=e.addName,n=e.newName,a=e.handleNameChange,c=e.newStatus,o=e.handleStatusChange;return Object(s.jsx)("div",{children:Object(s.jsxs)("form",{onSubmit:t,children:[Object(s.jsx)(u,{text:"Rank/Name ",value:n,onChange:a}),Object(s.jsx)(u,{text:"Status (present/attached/others) ",value:c,onChange:o}),Object(s.jsx)("div",{children:Object(s.jsx)("button",{type:"submit",children:"add"})})]})})},l=n(3),d=n.n(l),j="/api/persons",b=function(){return d.a.get(j).then((function(e){return e.data}))},h=function(e){return d.a.post(j,e).then((function(e){return e.data}))},f=function(e){return d.a.delete("".concat(j,"/").concat(e))},m=function(e,t){return d.a.put("".concat(j,"/").concat(e),t).then((function(e){return e.data}))},O=function(e){var t=e.person,n=e.id,a=e.setPersons,c=e.persons;return Object(s.jsx)("button",{onClick:function(){window.confirm("Do you want to delete ".concat(t.name))&&(f(n),a(c.filter((function(e){return e.id!==n}))))},children:"Delete"})},x=function(e){var t=e.symbol;return Object(s.jsx)("span",{className:"emoji",role:"img",children:t})},g=function(e){var t=e.currentStatus;return"present"===t?Object(s.jsx)(x,{symbol:"\ud83d\udc11"}):"attached"===t?Object(s.jsx)(x,{symbol:"\ud83c\udd70"}):"others"===t?Object(s.jsx)(x,{symbol:"\ud83d\uddd2"}):"mc"===t?Object(s.jsx)(x,{symbol:"\ud83d\ude37"}):"ma"===t?Object(s.jsx)(x,{symbol:"\ud83d\udc68\ud83c\udffb\u200d\u2695\ufe0f"}):"off"===t?Object(s.jsx)(x,{symbol:"\ud83d\udeab"}):"leave"===t||"leave"===t?Object(s.jsx)(x,{symbol:"\ud83d\udeaa"}):"stayout"===t?Object(s.jsx)(x,{symbol:"\ud83c\udfe0"}):void 0},v=function(e){var t=e.setPersons,n=e.persons;return Object(s.jsx)("div",{children:Object(s.jsx)("ul",{children:n.map((function(e){return Object(s.jsxs)("li",{children:[e.name,Object(s.jsx)(g,{currentStatus:e.status}),Object(s.jsx)(O,{person:e,id:e.id,setPersons:t,persons:n})]},e.name)}))})})},p=function(e){var t=e.message;return null===t?null:Object(s.jsx)("div",{style:{color:"green",background:"lightgrey",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10},children:t})},y=new Date,S=y.getDate(),w=y.getMonth()+1,C=y.getFullYear().toString().substr(-2),N=y.getHours(),k=y.getMinutes();S<10&&(S="0".concat(S)),w<10&&(w="0".concat(w)),N<10&&(N="0".concat(N)),k<10&&(k="0".concat(k));var P="".concat(w).concat(S).concat(C),D="".concat(N).concat(k),T="";T=D<1200&&D>="0000"?"morning":D>1600?"evening":"afternoon";var L=function(){return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("p",{children:["Good ",T," Commanders , this is the strength for Signal Company as of ",D," on ",P,"."]})})},A=function(){var e=Object(r.useState)([]),t=Object(o.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(""),u=Object(o.a)(c,2),l=u[0],d=u[1],j=Object(r.useState)(""),f=Object(o.a)(j,2),O=f[0],x=f[1],g=Object(r.useState)(null),y=Object(o.a)(g,2),S=y[0],w=y[1];Object(r.useEffect)((function(){b().then((function(e){a(e)}))}),[]);return Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:"Parade State Application"}),Object(s.jsx)(p,{message:S}),Object(s.jsx)("h2",{children:"Add a new"}),Object(s.jsx)(i,{addName:function(e){e.preventDefault();var t={name:l.trim().toUpperCase(),status:O},c=n.filter((function(e){return e.name.toLowerCase().includes(t.name.toLowerCase())}));if(console.log(c),l.trim()&&O.trim())if(c.length>0){if(window.confirm("".concat(l," is already added to phonebook. Would you like to update the status?")))return m(c[0].id,t).then((function(e){a(n.map((function(t){return t.id!==c[0].id?t:e}))),w("".concat(l," has been updated")),setTimeout((function(){return w(null)}),5e3)})).catch((function(e){w("".concat(l," has been already been removed from the server")),setTimeout((function(){return w(null)}),5e3)}))}else h(t).then((function(e){a(n.concat(e)),w("".concat(l," has been added")),setTimeout((function(){return w(null)}),5e3)})).catch((function(e){w("".concat(l," has been already been added to the server")),setTimeout((function(){return w(null)}),5e3)}));else alert("Name/status must be filled");x(""),d("")},newName:l,handleNameChange:function(e){console.log(e.target.value),d(e.target.value)},newStatus:O,handleStatusChange:function(e){console.log(e.target.value),x(e.target.value)}}),Object(s.jsx)("h2",{children:"List of Personnel"}),Object(s.jsx)(v,{setPersons:a,persons:n}),Object(s.jsx)("h2",{children:"Parade State"}),Object(s.jsx)(L,{})]})};c.a.render(Object(s.jsx)(A,{}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.3f0770e4.chunk.js.map